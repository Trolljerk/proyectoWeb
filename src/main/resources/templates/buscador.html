<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
        crossorigin="anonymous"
    />
    <link rel="stylesheet" th:href="@{/css/buscador.css}" />
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"
    ></script>
    <link
        rel="shortcut icon"
        th:href="@{/sources/img/logo.png}"
        type="image/x-icon"
    />
    <title>Buscador de Artistas</title>
</head>
<body>
<!-- nav -->
<header class="nav">
    <nav class="navbar navbar-expand-md bs-purple">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img th:src="@{/sources/img/logo.png}" alt="Logo" />
            </a>
            <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNav"
                aria-controls="navbarNav"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/"
                        >Inicio</a
                        >
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/evento">Eventos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/merch">Merch</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contacto">Contacto</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item d-flex align-items-center">
                        <a class="nav-link" href="/buscador">
                            <img
                                class="user me-2"
                                th:src="@{/sources/img/magnify.png}"
                                alt="User"
                            />
                        </a>
                    </li>
                    <li class="nav-item d-flex align-items-center">
                      <a class="nav-link" href="/login"><img
                        class="user me-2"
                        th:src="@{/sources/img/user.png}"
                        alt="User"
                      /></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<div class="container rounded-2 shadow-lg mt-5">
    <div class="d-flex align-items-center mb-3">
        <h1 class="mb-0">Buscador de artistas</h1>
    </div>
    <div class="input-group mb-3">
        <span class="input-group-text"
        ><img
                th:src="@{/sources/img/magnify.png}"
                alt="Buscar"
                class="search-icon"
        /></span>
        <input
            type="text"
            id="searchInput"
            class="form-control"
            placeholder="Buscar artistas"
            aria-label="Buscar artistas"
        />
    </div>
    <div class="list-group" id="artistList">
        <div
            class="list-group-item list-group-item-action d-flex align-items-center"
            data-name="orion"
        >
            <img
                th:src="@{/sources/img/orion.png}"
                alt="Orion"
                class="artist-img me-3"
            />
            <span>Ori√≥n</span>
        </div>
        <div
            class="list-group-item list-group-item-action d-flex align-items-center"
            data-name="lucca"
        >
            <img
                th:src="@{/sources/img/lucca.jpeg}"
                alt="LUCCA"
                class="artist-img me-3"
            />
            <span>LUCCA</span>
        </div>
        <div
            class="list-group-item list-group-item-action d-flex align-items-center"
            data-name="rodrigo venegas"
        >
            <img
                th:src="@{/sources/img/rodrigo.jpeg}"
                alt="Rodrigo Venegas"
                class="artist-img me-3"
            />
            <span>Rodrigo Venegas</span>
        </div>
        <div
            class="list-group-item list-group-item-action d-flex align-items-center"
            data-name="samu ortiga"
        >
            <img
                th:src="@{/sources/img/samu.jpeg}"
                alt="Samu Ortiga"
                class="artist-img me-3"
            />
            <span>Samu Ortiga</span>
        </div>
        <div
            class="list-group-item list-group-item-action d-flex align-items-center"
            data-name="juanjo cortes"
        >
            <img
                th:src="@{/sources/img/juanjo.jpeg}"
                alt="Juanjo Cortes"
                class="artist-img me-3"
            />
            <span>Juanjo Cortes</span>
        </div>
    </div>
</div>

<footer class="mt-5">
    <div class="text-center mt-12">
        <a class="logos" href="https://open.spotify.com/intl-es/artist/1QOKIsJjvDd9sHkSj96fI3?si=Aq_8l3uXTyeo3MOs4mplvA"
        ><img th:src="@{/sources/img/spotyfy.png}" alt="Facebook" width="128"
        /></a>
        <a class="logos" href="https://www.youtube.com/channel/UCfO-f8hBQ46rxuMtny39bbg"
        ><img
                th:src="@{/sources/img/youtube.png}"
                alt="Instagram"
                width="128"
        /></a>
        <a class="logos" href="https://www.instagram.com/orion_music_/"
        ><img
                th:src="@{/sources/img/instagram.png}"
                alt="Spotify"
                width="128"
        /></a>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.getElementById('searchInput');
        const artistList = document.getElementById('artistList');
        const allArtists = Array.from(artistList.getElementsByClassName('list-group-item'));

        searchInput.addEventListener('input', function () {
            const filter = searchInput.value.toLowerCase();
            artistList.innerHTML = ''; // Clear current list

            const filteredArtists = allArtists.filter(artist => {
                const artistName = artist.getAttribute('data-name');
                return artistName.includes(filter);
            });

            // Append filtered artists
            filteredArtists.forEach(artist => artistList.appendChild(artist));
        });
    });
</script>
</body>
</html>
